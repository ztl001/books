<?php
namespace App\Http\Models;
use App\Scopes\StatusScope;
use Illuminate\Database\Eloquent\Builder;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\SoftDeletes;

/**
 * App\Http\Models\User
 *
 * @property int $id 自动编号
 * @property string $username
 * @property string $password
 * @property string $gender
 * @property string|null $email
 * @property float $price
 * @property string $details
 * @property int|null $uid
 * @property int $status 状态
 * @property mixed|null $list
 * @property string|null $delete_time
 * @property string $create_time 创建时间
 * @property string $update_time 修改时间
 * @method static \Illuminate\Database\Eloquent\Builder|\App\Http\Models\User newModelQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|\App\Http\Models\User newQuery()
 * @method static \Illuminate\Database\Eloquent\Builder|\App\Http\Models\User query()
 * @method static \Illuminate\Database\Eloquent\Builder|\App\Http\Models\User whereCreateTime($value)
 * @method static \Illuminate\Database\Eloquent\Builder|\App\Http\Models\User whereDeleteTime($value)
 * @method static \Illuminate\Database\Eloquent\Builder|\App\Http\Models\User whereDetails($value)
 * @method static \Illuminate\Database\Eloquent\Builder|\App\Http\Models\User whereEmail($value)
 * @method static \Illuminate\Database\Eloquent\Builder|\App\Http\Models\User whereGender($value)
 * @method static \Illuminate\Database\Eloquent\Builder|\App\Http\Models\User whereId($value)
 * @method static \Illuminate\Database\Eloquent\Builder|\App\Http\Models\User whereList($value)
 * @method static \Illuminate\Database\Eloquent\Builder|\App\Http\Models\User wherePassword($value)
 * @method static \Illuminate\Database\Eloquent\Builder|\App\Http\Models\User wherePrice($value)
 * @method static \Illuminate\Database\Eloquent\Builder|\App\Http\Models\User whereStatus($value)
 * @method static \Illuminate\Database\Eloquent\Builder|\App\Http\Models\User whereUid($value)
 * @method static \Illuminate\Database\Eloquent\Builder|\App\Http\Models\User whereUpdateTime($value)
 * @method static \Illuminate\Database\Eloquent\Builder|\App\Http\Models\User whereUsername($value)
 * @mixin \Eloquent
 */
class User extends Model
{
//    protected $fillable = [
//        'username',
//        'password',
//        'email',
//        'details'
//    ];

    //全部开放
    protected $guarded = [];

    //开启软删除
    use SoftDeletes;

    //启用全局作用域
    protected static function booted()
    {
        //parent::booted(); // TODO: Change the autogenerated stub
        //static::addGlobalScope(new StatusScope());

//        static::addGlobalScope('status', function (Builder $builder) {
//            $builder->where('status', 1);
//        });
    }


    //本地作用域，封装：性别：男
//    public function scopeGenderMale($query)
//    {
//        $query->where('gender', '男');
//    }
//
//    public function scopeGender($query, $value, $value2 = 1)
//    {
//        $query->where('gender', $value)->where('status', $value2);
//    }


//    //访问器：性别：【男】
//    public function getGenderAttribute($value)
//    {
//        return '【'.$value.'】';
//    }
//
//    //追加字段
//    protected $appends = ['info'];
//
//    //虚拟字段访问器
//    public function getInfoAttribute()
//    {
//        //return $this->username.'-'.$this->gender;
//        return $this->attributes['username'].'-'.$this->attributes['gender'];
//    }
//
//    //修改器，邮箱大写写入
//    public function setEmailAttribute($value)
//    {
//        $this->attributes['email'] = strtoupper($value);
//    }
//
//    //设置日期列
//    //protected $dates = ['details'];
//
//    //属性转换
//    protected $casts = [
//        'details'   =>  'boolean'
//    ];

}













